{"remainingRequest":"E:\\StockForecast\\Guesssssss\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\StockForecast\\Guesssssss\\src\\components\\liked.vue?vue&type=style&index=0&id=1aa1461a&lang=scss&scoped=true&","dependencies":[{"path":"E:\\StockForecast\\Guesssssss\\src\\components\\liked.vue","mtime":1559735815923},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.transfer-footer {\n    margin-left:50%;\n    transform: translateX(-50%);\n    padding: 6px 5px;\n}\n",{"version":3,"sources":["liked.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;AACA","file":"liked.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <el-transfer\r\n            filterable\r\n            :filter-method=\"filterMethod\"\r\n            filter-placeholder=\"输入股票名称\"\r\n            :titles=\"['所有股票', '我的股票']\"\r\n            v-model=\"value\"\r\n            :data=\"maps\"\r\n            @change=\"handleChange\">\r\n    </el-transfer>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n\r\n            return {\r\n                maps: [],\r\n                stockinfo:'',\r\n                value: [],\r\n                arr:[]\r\n               /* filterMethod(query, item) {\r\n                    return item.pinyin.indexOf(query) > -1;\r\n                }*/\r\n            };\r\n        },\r\n        mounted(){\r\n            this.$nextTick(()=>{\r\n                this.getAllStocks()\r\n                this.getUserStock()\r\n            })        },\r\n        methods:{\r\n            getUserStock(){\r\n                this.$api.stock.stockFavorite({\r\n                    email:sessionStorage.getItem('username')\r\n                }).then(({data})=>{\r\n                    if(data.status=='0'){\r\n                        var jsonObj=JSON.parse(data.content);\r\n                        for (let i = 0; i < jsonObj.length; i++) {\r\n                            let record = jsonObj[i];\r\n                            let stockId = record['stockId'];\r\n                            let stockName = record['stockName'];\r\n                            this.value.push({\r\n                                label: stockName,\r\n                                key: stockId,\r\n                            });\r\n                        }\r\n\r\n                    }else {\r\n                        this.$message.error(data.message);\r\n                    }\r\n                })\r\n            },\r\n            getAllStocks(){\r\n                this.$api.stockPredict.stockPredicts({}).then(({data})=>{\r\n                    if(data.status=='0'){\r\n                        var jsonObj=JSON.parse(data.content);\r\n                        for (var i = 0; i < jsonObj.length; i++) {\r\n                            var record = jsonObj[i];\r\n                            var stockId = record['stockId'];\r\n                            var stockName = record['stockName'];\r\n                            this.maps.push({\r\n                                label: stockName,\r\n                                key: stockId,\r\n                            });\r\n                        }\r\n\r\n                    }else {\r\n                        this.$message.error(data.message);\r\n                    }\r\n                })\r\n            },\r\n            handleChange(value, direction, movedKeys) {\r\n                //this.$alert(value+\";\")\r\n                //value是右边穿梭框的key\r\n                //direction是穿梭方向\r\n                //movedKeys是当前穿梭的值\r\n              //  this.$alert(movedKeys);\r\n               // let movedKeysMap=movedKeys.split(\",\");\r\n                if(direction==\"right\")\r\n                {\r\n                    //add likedStock\r\n\r\n                 //   for (let i = 0; i < movedKeys.length; i++)\r\n                    this.$api.stock.addLikedStock({//post请求发送到searchStock\r\n                        stockNum:movedKeys+\"\",\r\n                        email:sessionStorage.getItem('username')\r\n                    }).then((res)=>{\r\n                        if(res.data.status=='0'){\r\n                            this.$alert(res.data.message);\r\n\r\n                        }else {\r\n                            this.$message.error(res.data.message);\r\n                        }\r\n\r\n                    })\r\n                }else{\r\n                    //del likedStock\r\n\r\n                    this.$api.stock.delLikedStock({//post请求发送到searchStock\r\n                        stockNum:movedKeys+\"\",\r\n                        email:sessionStorage.getItem('username')\r\n                    }).then((res)=>{\r\n                        if(res.data.status=='0'){\r\n                            this.$alert(res.data.message);\r\n\r\n                        }else {\r\n                            this.$message.error(res.data.message);\r\n                        }\r\n\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<<style lang='scss' scoped>\r\n    .transfer-footer {\r\n        margin-left:50%;\r\n        transform: translateX(-50%);\r\n        padding: 6px 5px;\r\n    }\r\n</style>\r\n"]}]}