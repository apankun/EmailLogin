{"remainingRequest":"E:\\StockForecast\\Guesssssss\\node_modules\\thread-loader\\dist\\cjs.js!E:\\StockForecast\\Guesssssss\\node_modules\\babel-loader\\lib\\index.js!E:\\StockForecast\\Guesssssss\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\StockForecast\\Guesssssss\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\StockForecast\\Guesssssss\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\StockForecast\\Guesssssss\\src\\views\\login.vue","mtime":1559819633656},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport loading from '../components/loading';\nimport donote from '../components/donote';\nexport default {\n  components: {\n    loading: loading,\n    donote: donote\n  },\n  data: function data() {\n    var _this = this;\n\n    var checkEmail = function checkEmail(rule, value, callback) {\n      var reg = new RegExp(\"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\");\n\n      if (!value) {\n        return callback(new Error('邮箱不能为空'));\n      }\n\n      setTimeout(function () {\n        if (!reg.test(value)) {\n          callback(new Error('请输入正确的邮箱'));\n        } else {\n          callback();\n        }\n      }, 1000);\n    };\n\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入密码'));\n      } else {\n        if (_this.ruleForm.checkPass !== '') {\n          _this.$refs.ruleForm.validateField('checkPass');\n        }\n\n        callback();\n      }\n    };\n\n    return {\n      load: false,\n      donateVisible: false,\n      ruleForm: {\n        pass: '',\n        email: ''\n      },\n      rules: {\n        pass: [{\n          validator: validatePass,\n          trigger: 'blur'\n        }],\n        email: [{\n          validator: checkEmail,\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    back: function back() {\n      this.$router.push(\"/\"); //返回最顶层\n    },\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this2.load = true;\n\n          _this2.$api.user.login({\n            email: _this2.ruleForm.email,\n            password: _this2.ruleForm.pass\n          }).then(function (_ref) {\n            var data = _ref.data;\n            _this2.load = false;\n\n            if (data.status == '0') {\n              //this.$store.dispatch('UserLogin', data.result.token)\n              _this2.$store.dispatch('UserName', _this2.ruleForm.email); //    let email=data.result.email;\n\n\n              var redirect = decodeURIComponent(_this2.$route.query.redirect || '/');\n\n              _this2.$router.push({\n                path: redirect //    name:'index',\n\n              });\n            } else {\n              _this2.$message.error(data.message);\n            }\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n   <div class=\"login\">\r\n       <div class=\"donate\" circle>\r\n           <el-button type=\"warning\"  @mouseover.native=\"donateVisible=true\"\r\n                      circle>赏</el-button>\r\n       </div>\r\n       <div class=\"header\">\r\n           <span class=\"headerSpan\" @click=\"back()\">返回主页</span>\r\n       </div>\r\n       <div class=\"logo\">\r\n           <img src=\"../common/img/logo.png\" alt=\"\">\r\n       </div>\r\n       <el-dialog\r\n               title=\"打赏\"\r\n               :visible.sync=\"donateVisible\"\r\n               width=\"30%\">\r\n           <donote></donote>\r\n       </el-dialog>\r\n       <div class=\"login-input\" >\r\n           <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\"  class=\"demo-ruleForm\">\r\n                <el-form-item label=\"\" prop=\"email\">\r\n                    <el-input v-model=\"ruleForm.email\" clearable placeholder=\"邮箱\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"\" prop=\"pass\">\r\n                    <el-input type=\"password\" v-model=\"ruleForm.pass\" autocomplete=\"off\" placeholder=\"密码\" clearable></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">\r\n                        <loading v-if=\"load\"></loading>\r\n                        <span v-else>登录</span>\r\n                    </el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n           <p class='register'><router-link to='/register'>还没有账号？注册</router-link></p>\r\n           <p class='register' @click=\"back()\">返回</p>>\r\n       </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport loading from '../components/loading'\r\nimport donote from '../components/donote'\r\n\r\nexport default {\r\n    components:{loading,donote},\r\n    data(){\r\n        var checkEmail = (rule, value, callback) => {\r\n            var reg = new RegExp(\"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\");\r\n            if (!value) {\r\n                return callback(new Error('邮箱不能为空'));\r\n            }\r\n            setTimeout(() => {\r\n            if (!reg.test(value)) {\r\n                callback(new Error('请输入正确的邮箱'));\r\n            }else{\r\n                 callback();\r\n            }\r\n            }, 1000);\r\n        };\r\n        var validatePass = (rule, value, callback) => {\r\n            if (value === '') {\r\n                callback(new Error('请输入密码'));\r\n            } else {\r\n            if (this.ruleForm.checkPass !== '') {\r\n                this.$refs.ruleForm.validateField('checkPass');\r\n            }\r\n                callback();\r\n            }\r\n        };\r\n        return{\r\n            load:false,\r\n            donateVisible:false,\r\n            ruleForm: {\r\n                pass: '',\r\n                email: ''\r\n            },\r\n            rules: {\r\n                pass: [\r\n                    { validator: validatePass, trigger: 'blur' }\r\n                ],\r\n                email: [\r\n                    { validator: checkEmail, trigger: 'blur' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        back(){\r\n            this.$router.push(\"/\");//返回最顶层\r\n\r\n        },\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n              this.load=true\r\n              this.$api.user.login({\r\n                  email:this.ruleForm.email,\r\n                  password:this.ruleForm.pass\r\n              }).then(({data})=>{\r\n                  this.load=false\r\n                  if(data.status=='0'){\r\n                      //this.$store.dispatch('UserLogin', data.result.token)\r\n                      this.$store.dispatch('UserName', this.ruleForm.email)\r\n                  //    let email=data.result.email;\r\n                      let redirect = decodeURIComponent(this.$route.query.redirect || '/');\r\n                      this.$router.push({\r\n                        path: redirect\r\n                      //    name:'index',\r\n                      })\r\n                  }else {\r\n                      this.$message.error(data.message);\r\n                  }\r\n\r\n              })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n\r\n    @media (max-width: 2000px) {\r\n        .login {\r\n            position: relative;\r\n            width: 100%;\r\n            height: 100%;\r\n          //  background-image: url(../common/img/background.jpg);\r\n            background-size: 100% 100%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #fff;\r\n\r\n            .logo {\r\n             //   margin-left: 15%;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                justify-content: center;\r\n                img {\r\n                    width: 60%;\r\n                }\r\n            }\r\n\r\n            .header {\r\n                position: absolute;\r\n                right: 10px;\r\n                top: 5px;\r\n                .headerSpan{\r\n                    color:#8e8e8e;\r\n                }\r\n            }\r\n            .donate{\r\n                position:absolute;\r\n                right:20px;\r\n                top:20px;\r\n\r\n            }\r\n            .login-input {\r\n                width: 20%;\r\n                padding: 10px;\r\n                margin-top: 10px;\r\n//                margin-left: 50%;\r\n\r\n                .el-input {\r\n                    // margin-bottom: 20px;\r\n                    .el-input__inner {\r\n                        border-radius: 30px !important;\r\n                        text-align: center;\r\n                    }\r\n                }\r\n\r\n                .el-button {\r\n                    border-radius: 30px !important;\r\n                    width: 100%;\r\n               //     background: rgb(243, 164, 7);\r\n                    background:#f56c6c;\r\n                    color: #fff;\r\n                    border: 0;\r\n                }\r\n\r\n                .register {\r\n                    text-align: right;\r\n                    margin: 10px;\r\n\r\n                    a {\r\n                   //     color: #f3a407\r\n                    color:#f56c6c;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    @media (max-width: 1700px) {\r\n        .login {\r\n            position: relative;\r\n            width: 100%;\r\n            height: 100%;\r\n      //      background-image: url(../common/img/background.jpg);\r\n            background-size: 100% 100%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #fff;\r\n\r\n            .logo {\r\n             //   margin-left: 15%;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                justify-content: center;\r\n                img {\r\n                    width: 60%;\r\n                }\r\n            }\r\n\r\n            .header {\r\n                position: absolute;\r\n                right: 10px;\r\n                top: 5px;\r\n                .headerSpan{\r\n                    color:#8e8e8e;\r\n                }\r\n            }\r\n            .donate{\r\n                position:absolute;\r\n                right:20px;\r\n                top:20px;\r\n\r\n            }\r\n            .login-input {\r\n                width: 20%;\r\n                padding: 10px;\r\n                margin-top: 10px;\r\n//                margin-left: 50%;\r\n\r\n                .el-input {\r\n                    // margin-bottom: 20px;\r\n                    .el-input__inner {\r\n                        border-radius: 30px !important;\r\n                        text-align: center;\r\n                    }\r\n                }\r\n\r\n                .el-button {\r\n                    border-radius: 30px !important;\r\n                    width: 100%;\r\n                   // background: rgb(243, 164, 7);\r\n                    background:#f56c6c;\r\n                    color: #fff;\r\n                    border: 0;\r\n                }\r\n\r\n                .register {\r\n                    text-align: right;\r\n                    margin: 10px;\r\n\r\n                    a {\r\n                        //color: #f3a407\r\n                        color:#f56c6c;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    @media (max-width: 1025px) {\r\n        .login {\r\n            position: relative;\r\n            width: 100%;\r\n            height: 100%;\r\n       //     background-image: url(../common/img/background.jpg);\r\n            background-size: 100% 100%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #fff;\r\n\r\n            .logo {\r\n             //   margin-left: 15%;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                justify-content: center;\r\n                img {\r\n                    width: 60%;\r\n                }\r\n            }\r\n\r\n            .header {\r\n                position: absolute;\r\n                right: 10px;\r\n                top: 5px;\r\n                .headerSpan{\r\n                    color:#8e8e8e;\r\n                }\r\n            }\r\n            .donate{\r\n                position:absolute;\r\n                right:20px;\r\n                top:20px;\r\n\r\n            }\r\n            .login-input {\r\n                width: 70%;\r\n                padding: 10px;\r\n                margin-top: 10px;\r\n//                margin-left: 50%;\r\n\r\n                .el-input {\r\n                    // margin-bottom: 20px;\r\n                    .el-input__inner {\r\n                        border-radius: 30px !important;\r\n                        text-align: center;\r\n                    }\r\n                }\r\n\r\n                .el-button {\r\n                    border-radius: 30px !important;\r\n                    width: 100%;\r\n                   // background: rgb(243, 164, 7);\r\n                    background:#f56c6c;\r\n                    color: #fff;\r\n                    border: 0;\r\n                }\r\n\r\n                .register {\r\n                    text-align: right;\r\n                    margin: 10px;\r\n\r\n                    a {\r\n                        //color: #f3a407\r\n                        color:#f56c6c;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n</style>\r\n"],"sourceRoot":"src/views"}]}