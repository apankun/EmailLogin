{"remainingRequest":"E:\\StockForecast\\Guesssssss\\node_modules\\babel-loader\\lib\\index.js!E:\\StockForecast\\Guesssssss\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\StockForecast\\Guesssssss\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\StockForecast\\Guesssssss\\src\\components\\favorite.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\StockForecast\\Guesssssss\\src\\components\\favorite.vue","mtime":1560150750066},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\StockForecast\\Guesssssss\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      // 总数据\n      tableData: [],\n      // 默认显示第几页\n      currentPage: 1,\n      // 总条数，根据接口获取数据长度(注意：这里不能为空)\n      totalCount: 1,\n      // 个数选择器（可修改）\n      //pageSizes:[1,2,3,4],\n      // 默认每页显示的条数（可修改）\n      PageSize: 5,\n      chooseday: new Date()\n    };\n  },\n  methods: {\n    formatDate: function formatDate(date) {\n      var y = date.getFullYear();\n      var m = date.getMonth() + 1;\n      m = m < 10 ? '0' + m : m;\n      var d = date.getDate();\n      d = d < 10 ? '0' + d : d;\n      return y + '-' + m + '-' + d;\n    },\n    formatTime: function formatTime(time) {\n      this.chooseday = time; //date是绑定的值\n    },\n    getUserStock: function getUserStock() {\n      var _this = this;\n\n      this.$api.stock.stockFavorite({\n        email: sessionStorage.getItem(\"username\")\n      }).then(function (_ref) {\n        var data = _ref.data;\n\n        if (data.status == '0') {\n          var jsonObj = JSON.parse(data.content);\n          _this.totalCount = jsonObj.length;\n\n          for (var i = 0; i < jsonObj.length; i++) {\n            var record = jsonObj[i];\n            var stockId = record['stockId'];\n            var stockName = record['stockName'];\n\n            _this.tableData.push({\n              stockId: stockId,\n              stockName: stockName\n            });\n          }\n        } else {\n          _this.$message.error(data.message);\n        }\n      });\n    },\n    // 分页\n    // 每页显示的条数\n    handleSizeChange: function handleSizeChange(val) {\n      // 改变每页显示的条数\n      this.PageSize = val; // 注意：在改变每页显示的条数时，要将页码显示到第一页\n\n      this.currentPage = 1;\n    },\n    // 显示第几页\n    handlesCurrentChange: function handlesCurrentChange(val) {\n      // 改变默认的页数\n      this.currentPage = val;\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      var _this2 = this;\n\n      // this.$alert(val.stockId);\n      this.$api.stockPredict.getByStockId({\n        //post请求发送到searchStock\n        stockId: val.stockId,\n        pickdate: this.chooseday // stock:md5.update(this.ruleForm.stock).digest(\"hex\"),\n        // stock:this.$getCode(this.ruleForm.stock),\n        // pickdate:this.chooseday\n\n      }).then(function (res) {\n        console.log(res);\n        _this2.load = false;\n\n        if (res.data.status == '0') {\n          var stock = JSON.parse(res.data.content); // this.$alert(res.data.content);\n\n          _this2.$message.success(\"搜索成功\");\n\n          var stockId = stock.stockId;\n          var stockName = stock.stockName;\n          var isUp = stock.isUp;\n          var isUpStop = stock.isUpStop;\n          var stockMarket = stock.stockMarket; // let stockForecast=stock.stockForecast;\n\n          var percentage = stock.percentage; //this.$router.go(0);\n\n          _this2.$router.push({\n            name: 'showstock',\n            query: {\n              stockId: stockId,\n              stockName: stockName,\n              stockMarket: stockMarket,\n              isUp: isUp,\n              isUpStop: isUpStop,\n              percentage: percentage\n            }\n          });\n        } else {\n          _this2.$message.error(res.data.message);\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      // this.getAllStocks()\n      _this3.getUserStock();\n\n      _this3.chooseday = _this3.formatDate(_this3.chooseday);\n    });\n  },\n  watch: {\n    '$route': function $route(to, from) {\n      //监听路由变化，防止参数刷新而页面不刷新的情况。\n      this.$router.go(0); //this.handleCurrentChange(this.val)\n    }\n  }\n};",{"version":3,"sources":["favorite.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"center\">\r\n        <!-- 将获取到的数据进行计算 -->\r\n        <el-table :data=\"tableData.slice((currentPage-1)*PageSize,currentPage*PageSize)\"\r\n                  style=\"width: 100%\"\r\n                  highlight-current-row\r\n                  @current-change=\"handleCurrentChange\">\r\n\r\n           <el-table-column prop=\"stockId\" label=\"股票代码\" ></el-table-column>\r\n            <el-table-column prop=\"stockName\" label=\"股票名称\" ></el-table-column>\r\n        </el-table>\r\n        <div class=\"tabListPage\">\r\n            <el-pagination @size-change=\"handleSizeChange\"\r\n                           @current-change=\"handlesCurrentChange\"\r\n                           :current-page=\"currentPage\"\r\n                           :page-sizes=\"pageSizes\"\r\n                           :page-size=\"PageSize\" layout=\"total, prev, pager, next, jumper\"\r\n                           :total=\"totalCount\">\r\n            </el-pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data(){\r\n            return {\r\n                // 总数据\r\n                tableData:[],\r\n                // 默认显示第几页\r\n                currentPage:1,\r\n                // 总条数，根据接口获取数据长度(注意：这里不能为空)\r\n                totalCount:1,\r\n                // 个数选择器（可修改）\r\n                //pageSizes:[1,2,3,4],\r\n                // 默认每页显示的条数（可修改）\r\n                PageSize:5,\r\n                chooseday:  new Date(),\r\n            }\r\n        },\r\n        methods:{\r\n            formatDate(date) {\r\n                let y = date.getFullYear();\r\n                let m = date.getMonth() + 1;\r\n                m = m < 10 ? '0' + m : m;\r\n                let d = date.getDate();\r\n                d = d < 10 ? ('0' + d) : d;\r\n                return y + '-' + m + '-' + d;\r\n            },\r\n            formatTime(time) {\r\n                this.chooseday=time;   //date是绑定的值\r\n            },\r\n            getUserStock(){\r\n                this.$api.stock.stockFavorite({\r\n                    email:sessionStorage.getItem(\"username\")\r\n                }).then(({data})=>{\r\n                    if(data.status=='0'){\r\n                        var jsonObj=JSON.parse(data.content);\r\n                        this.totalCount=jsonObj.length\r\n                        for (var i = 0; i < jsonObj.length; i++) {\r\n                            var record = jsonObj[i];\r\n                            var stockId = record['stockId'];\r\n                            var stockName = record['stockName'];\r\n                            this.tableData.push({\r\n                                stockId: stockId,\r\n                                stockName: stockName,\r\n                            });\r\n                        }\r\n\r\n                    }else {\r\n                        this.$message.error(data.message);\r\n                    }\r\n                })\r\n            },\r\n\r\n            // 分页\r\n            // 每页显示的条数\r\n            handleSizeChange(val) {\r\n                // 改变每页显示的条数\r\n                this.PageSize=val\r\n                // 注意：在改变每页显示的条数时，要将页码显示到第一页\r\n                this.currentPage=1\r\n            },\r\n            // 显示第几页\r\n            handlesCurrentChange(val) {\r\n                // 改变默认的页数\r\n                this.currentPage=val\r\n            },\r\n\r\n            handleCurrentChange(val) {\r\n               // this.$alert(val.stockId);\r\n                this.$api.stockPredict.getByStockId({//post请求发送到searchStock\r\n                    stockId:val.stockId,\r\n                    pickdate:this.chooseday\r\n                    // stock:md5.update(this.ruleForm.stock).digest(\"hex\"),\r\n                    // stock:this.$getCode(this.ruleForm.stock),\r\n                   // pickdate:this.chooseday\r\n                }).then((res)=>{\r\n                    console.log(res)\r\n                    this.load=false\r\n                    if(res.data.status=='0'){\r\n                        let stock=JSON.parse(res.data.content);\r\n                        // this.$alert(res.data.content);\r\n                        this.$message.success(\"搜索成功\");\r\n                        let stockId=stock.stockId;\r\n                        let stockName=stock.stockName;\r\n                        let isUp=stock.isUp;\r\n                        let isUpStop=stock.isUpStop;\r\n                        let stockMarket=stock.stockMarket;\r\n                        // let stockForecast=stock.stockForecast;\r\n                        let percentage=stock.percentage;\r\n                        //this.$router.go(0);\r\n                        this.$router.push({ name:'showstock',query: { stockId: stockId,stockName:stockName,stockMarket:stockMarket,isUp:isUp,isUpStop:isUpStop,percentage:percentage }});\r\n\r\n                    }else {\r\n                        this.$message.error(res.data.message);\r\n                    }\r\n\r\n                })\r\n            }\r\n        },\r\n        mounted(){\r\n            this.$nextTick(()=>{\r\n               // this.getAllStocks()\r\n                this.getUserStock();\r\n                this.chooseday=this.formatDate(this.chooseday)\r\n\r\n            })        },\r\n        watch: {\r\n            '$route' (to, from) {//监听路由变化，防止参数刷新而页面不刷新的情况。\r\n                this.$router.go(0);\r\n                //this.handleCurrentChange(this.val)\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.center{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}